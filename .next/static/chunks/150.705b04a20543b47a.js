"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[150],{1150:(e,o,r)=>{r.r(o),r.d(o,{default:()=>d});var t=r(5155),i=r(9137),a=r.n(i),n=r(2115),s=r(6766);let d=e=>{let{photo:o,onClose:r,onPhotoDeleted:i}=e,[d,l]=n.useState(!1),[c,b]=n.useState(null),x=async()=>{if(o.id){l(!0),b(null);try{let e=await fetch("/api/delete_photo",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:o.id})});if(!e.ok){let o=await e.json();throw Error(o.error||"Failed to delete photo")}r(),null==i||i()}catch(e){e instanceof Error?b(e.message):b("Failed to delete photo")}finally{l(!1)}}};return(0,t.jsx)("div",{className:"lookup-overlay",onClick:r,children:(0,t.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"jsx-d67ecb49942c3430 lookup-modal",children:[(0,t.jsx)("button",{onClick:r,"aria-label":"Close",className:"jsx-d67ecb49942c3430 close-btn",children:"\xd7"}),(0,t.jsx)(s.default,{src:o.blob_url,alt:o.description||"Album photo",width:700,height:500,style:{maxWidth:"70vw",maxHeight:"60vh",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",marginBottom:"1.5rem",background:"#f3f3f3",objectFit:"contain",width:"100%",height:"auto"},sizes:"(max-width: 900px) 90vw, 700px",priority:!0}),(0,t.jsx)("div",{className:"jsx-d67ecb49942c3430 lookup-description",children:o.description||(0,t.jsx)("em",{className:"jsx-d67ecb49942c3430",children:"No description"})}),c&&(0,t.jsx)("div",{className:"jsx-d67ecb49942c3430 delete-error",children:c}),(0,t.jsx)("button",{onClick:x,disabled:d,"aria-label":"Delete Photo",className:"jsx-d67ecb49942c3430 delete-btn",children:d?"Deleting...":"Delete"}),(0,t.jsx)(a(),{id:"d67ecb49942c3430",children:".lookup-overlay.jsx-d67ecb49942c3430{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.72);z-index:2000;-webkit-backdrop-filter:blur(2.5px);backdrop-filter:blur(2.5px)}.lookup-modal.jsx-d67ecb49942c3430{background:#fff;-webkit-border-radius:18px;-moz-border-radius:18px;border-radius:18px;padding:2rem 2rem 1.5rem 2rem;-webkit-box-shadow:0 8px 40px 0 rgba(0,0,0,.28),0 1.5px 8px 0 rgba(0,0,0,.1);-moz-box-shadow:0 8px 40px 0 rgba(0,0,0,.28),0 1.5px 8px 0 rgba(0,0,0,.1);box-shadow:0 8px 40px 0 rgba(0,0,0,.28),0 1.5px 8px 0 rgba(0,0,0,.1);max-width:90vw;max-height:90vh;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;position:fixed;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);transform:translate(-50%,-50%);z-index:2100}.close-btn.jsx-d67ecb49942c3430{position:absolute;top:1rem;right:1rem;background:none;border:none;font-size:2rem;color:#888;cursor:pointer;z-index:1;-webkit-transition:color.2s;-moz-transition:color.2s;-o-transition:color.2s;transition:color.2s}.close-btn.jsx-d67ecb49942c3430:hover{color:#222}.lookup-description.jsx-d67ecb49942c3430{font-size:1.1rem;color:#333;text-align:center;margin-top:.5rem;word-break:break-word}.delete-btn.jsx-d67ecb49942c3430{position:absolute;bottom:1.2rem;right:1.5rem;background:#e53935;color:#fff;border:none;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;padding:.5rem 1.5rem;font-size:1rem;cursor:pointer;-webkit-box-shadow:0 2px 8px rgba(229,57,53,.08);-moz-box-shadow:0 2px 8px rgba(229,57,53,.08);box-shadow:0 2px 8px rgba(229,57,53,.08);-webkit-transition:background.2s;-moz-transition:background.2s;-o-transition:background.2s;transition:background.2s;z-index:2}.delete-btn.jsx-d67ecb49942c3430:disabled{background:#b71c1c;cursor:not-allowed}.delete-btn.jsx-d67ecb49942c3430:hover:not(:disabled){background:#b71c1c}.delete-error.jsx-d67ecb49942c3430{color:#e53935;font-size:1rem;margin-top:1rem;margin-bottom:.5rem;text-align:center}"})]})})}}}]);