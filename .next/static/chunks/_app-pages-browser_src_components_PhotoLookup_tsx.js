"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_src_components_PhotoLookup_tsx"],{

/***/ "(app-pages-browser)/./src/components/PhotoLookup.tsx":
/*!****************************************!*\
  !*** ./src/components/PhotoLookup.tsx ***!
  \****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-jsx/style */ \"(app-pages-browser)/./node_modules/styled-jsx/style.js\");\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/image */ \"(app-pages-browser)/./node_modules/next/dist/api/image.js\");\n\nvar _s = $RefreshSig$();\n\n\n\nconst PhotoLookup = (param)=>{\n    let { photo, onClose, onPhotoDeleted } = param;\n    _s();\n    const [loading, setLoading] = react__WEBPACK_IMPORTED_MODULE_2___default().useState(false);\n    const [error, setError] = react__WEBPACK_IMPORTED_MODULE_2___default().useState(null);\n    const [columns, setColumns] = react__WEBPACK_IMPORTED_MODULE_2___default().useState(2);\n    // Helper to get image aspect ratio\n    const [imgNatural, setImgNatural] = react__WEBPACK_IMPORTED_MODULE_2___default().useState({\n        w: 4,\n        h: 3\n    });\n    react__WEBPACK_IMPORTED_MODULE_2___default().useEffect({\n        \"PhotoLookup.useEffect\": ()=>{\n            function updateColumns() {\n                if (true) {\n                    const effectiveWidth = Math.min(window.innerWidth, 1500);\n                    if (effectiveWidth <= 600 && window.innerHeight > window.innerWidth) {\n                        setColumns(2);\n                    } else {\n                        setColumns(Math.max(2, Math.ceil(effectiveWidth / 450)));\n                    }\n                }\n            }\n            updateColumns();\n            window.addEventListener('resize', updateColumns);\n            return ({\n                \"PhotoLookup.useEffect\": ()=>window.removeEventListener('resize', updateColumns)\n            })[\"PhotoLookup.useEffect\"];\n        }\n    }[\"PhotoLookup.useEffect\"], []);\n    react__WEBPACK_IMPORTED_MODULE_2___default().useEffect({\n        \"PhotoLookup.useEffect\": ()=>{\n            if (!(photo === null || photo === void 0 ? void 0 : photo.blob_url)) return;\n            const img = new window.Image();\n            img.onload = ({\n                \"PhotoLookup.useEffect\": ()=>setImgNatural({\n                        w: img.naturalWidth,\n                        h: img.naturalHeight\n                    })\n            })[\"PhotoLookup.useEffect\"];\n            img.src = photo.blob_url;\n        }\n    }[\"PhotoLookup.useEffect\"], [\n        photo === null || photo === void 0 ? void 0 : photo.blob_url\n    ]);\n    // Responsive modal and element sizing\n    let modalMaxWidth = 0;\n    let modalMaxHeight = 0;\n    let modalPaddingX = 6;\n    let modalPaddingY = 8;\n    let modalRadius = 5;\n    let imageMaxWidth = 0;\n    let imageMaxHeight = 0;\n    let topBarHeight = 28;\n    let closeBtnFont = 20;\n    let deleteBtnFont = 0.82;\n    let deleteBtnPadY = 2;\n    let deleteBtnPadX = 8;\n    let deleteBtnRadius = 6;\n    let descFont = 0.92;\n    let descMarginTop = 10;\n    if (true) {\n        // Margin from viewport edge\n        const marginW = Math.max(window.innerWidth * 0.01, 8); // 1% margin for width\n        const marginH = Math.max(window.innerHeight * 0.045, 28.8); // 10% margin for height\n        const maxBoxW = window.innerWidth - 2 * marginW;\n        const maxBoxH = window.innerHeight - 2 * marginH;\n        if (window.innerWidth <= 600 && window.innerHeight > window.innerWidth) {\n            modalPaddingX = 8;\n            modalPaddingY = 14;\n            modalRadius = 5;\n            topBarHeight = 24;\n            closeBtnFont = 22;\n            deleteBtnFont = 0.74;\n            deleteBtnPadY = 1;\n            deleteBtnPadX = 7;\n            deleteBtnRadius = 4;\n            descFont = 0.82;\n            descMarginTop = 7;\n        } else {\n            modalPaddingX = 16 + columns * 2.2;\n            modalPaddingY = 18 + columns * 2.2;\n            modalRadius = 5 + columns * 0.5;\n            topBarHeight = 18 + columns * 1.2;\n            closeBtnFont = 18 + columns * 2.2;\n            deleteBtnFont = 0.68 + columns * 0.06;\n            deleteBtnPadY = 1 + columns * 0.5;\n            deleteBtnPadX = 6 + columns * 0.7;\n            deleteBtnRadius = 4 + columns * 0.5;\n            descFont = 0.78 + columns * 0.06;\n            descMarginTop = 7 + columns * 0.7;\n        }\n        // Calculate available space for image (subtract modal paddings, top bar, desc)\n        const reservedHeight = topBarHeight + descMarginTop + modalPaddingY * 2 + 40; // 40 for description height estimate\n        const reservedWidth = modalPaddingX * 2;\n        const boxW = maxBoxW - reservedWidth;\n        const boxH = maxBoxH - reservedHeight;\n        // Fit image to box, maintaining aspect ratio\n        const aspect = imgNatural.w / imgNatural.h;\n        let fitW = boxW;\n        let fitH = boxW / aspect;\n        if (fitH > boxH) {\n            fitH = boxH;\n            fitW = boxH * aspect;\n        }\n        // Prevent upscaling beyond original image resolution\n        if (fitW > imgNatural.w) {\n            fitW = imgNatural.w;\n            fitH = fitW / aspect;\n        }\n        if (fitH > imgNatural.h) {\n            fitH = imgNatural.h;\n            fitW = fitH * aspect;\n        }\n        imageMaxWidth = fitW;\n        imageMaxHeight = fitH;\n        // Modal size will hug the image\n        modalMaxWidth = fitW + reservedWidth;\n        modalMaxHeight = fitH + reservedHeight;\n    }\n    const handleDelete = async ()=>{\n        if (!photo.id) return;\n        setLoading(true);\n        setError(null);\n        try {\n            const res = await fetch('/api/delete_photo', {\n                method: 'DELETE',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    id: photo.id\n                })\n            });\n            if (!res.ok) {\n                const data = await res.json();\n                throw new Error(data.error || 'Failed to delete photo');\n            }\n            onClose();\n            onPhotoDeleted === null || onPhotoDeleted === void 0 ? void 0 : onPhotoDeleted();\n        } catch (err) {\n            if (err instanceof Error) {\n                setError(err.message);\n            } else {\n                setError('Failed to delete photo');\n            }\n        } finally{\n            setLoading(false);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"lookup-overlay\",\n        onClick: onClose,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            onClick: (e)=>e.stopPropagation(),\n            style: {\n                background: '#23232b',\n                borderRadius: modalRadius,\n                padding: \"\".concat(modalPaddingY, \"px \").concat(modalPaddingX, \"px\"),\n                boxShadow: '0 8px 40px 0 rgba(0,0,0,0.55), 0 1.5px 8px 0 rgba(0,0,0,0.22)',\n                maxWidth: modalMaxWidth,\n                maxHeight: modalMaxHeight,\n                width: 'auto',\n                height: 'auto',\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: 'stretch',\n                position: 'fixed',\n                top: '50%',\n                left: '50%',\n                transform: 'translate(-50%, -50%)',\n                zIndex: 2100\n            },\n            className: \"jsx-11479aec09b9a2bf\" + \" \" + \"lookup-modal\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        width: '100%',\n                        display: 'flex',\n                        flexDirection: 'row',\n                        alignItems: 'center',\n                        justifyContent: 'space-between',\n                        height: topBarHeight,\n                        marginBottom: 8\n                    },\n                    className: \"jsx-11479aec09b9a2bf\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleDelete,\n                            disabled: loading,\n                            \"aria-label\": \"Delete Photo\",\n                            style: {\n                                background: '#d7263d',\n                                color: '#fff',\n                                border: 'none',\n                                borderRadius: deleteBtnRadius,\n                                padding: \"\".concat(deleteBtnPadY, \"px \").concat(deleteBtnPadX, \"px\"),\n                                fontSize: \"\".concat(deleteBtnFont, \"rem\"),\n                                cursor: 'pointer',\n                                boxShadow: '0 2px 8px rgba(215,38,61,0.10)',\n                                transition: 'background 0.2s',\n                                zIndex: 2,\n                                minWidth: 0,\n                                minHeight: 0,\n                                fontWeight: 600,\n                                letterSpacing: '0.01em',\n                                display: 'inline-block',\n                                opacity: loading ? 0.7 : 1\n                            },\n                            className: \"jsx-11479aec09b9a2bf\" + \" \" + \"delete-btn\",\n                            children: loading ? '...' : 'Delete'\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\marek_o\\\\OneDrive\\\\Desktop\\\\album-web\\\\src\\\\components\\\\PhotoLookup.tsx\",\n                            lineNumber: 178,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: onClose,\n                            \"aria-label\": \"Close\",\n                            style: {\n                                background: 'none',\n                                border: 'none',\n                                fontSize: closeBtnFont,\n                                color: '#888',\n                                cursor: 'pointer',\n                                zIndex: 1,\n                                transition: 'color 0.2s',\n                                lineHeight: 1,\n                                marginLeft: 8\n                            },\n                            className: \"jsx-11479aec09b9a2bf\" + \" \" + \"close-btn\",\n                            children: \"\\xd7\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\marek_o\\\\OneDrive\\\\Desktop\\\\album-web\\\\src\\\\components\\\\PhotoLookup.tsx\",\n                            lineNumber: 204,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\marek_o\\\\OneDrive\\\\Desktop\\\\album-web\\\\src\\\\components\\\\PhotoLookup.tsx\",\n                    lineNumber: 169,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        flex: 1,\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        minHeight: 0,\n                        minWidth: 0\n                    },\n                    className: \"jsx-11479aec09b9a2bf\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                        src: photo.blob_url,\n                        alt: photo.description || 'Album photo',\n                        width: imageMaxWidth,\n                        height: imageMaxHeight,\n                        style: {\n                            width: imageMaxWidth,\n                            height: imageMaxHeight,\n                            maxWidth: imageMaxWidth,\n                            maxHeight: imageMaxHeight,\n                            borderRadius: modalRadius - 1,\n                            boxShadow: '0 2px 8px rgba(0,0,0,0.22)',\n                            background: '#181818',\n                            objectFit: 'contain',\n                            display: 'block'\n                        },\n                        sizes: \"(max-width: 900px) 90vw, 700px\",\n                        priority: true,\n                        unoptimized: true\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\marek_o\\\\OneDrive\\\\Desktop\\\\album-web\\\\src\\\\components\\\\PhotoLookup.tsx\",\n                        lineNumber: 232,\n                        columnNumber: 11\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\marek_o\\\\OneDrive\\\\Desktop\\\\album-web\\\\src\\\\components\\\\PhotoLookup.tsx\",\n                    lineNumber: 224,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        fontSize: \"\".concat(descFont, \"rem\"),\n                        color: '#f4f4f4',\n                        textAlign: 'left',\n                        marginTop: descMarginTop,\n                        marginBottom: 0,\n                        wordBreak: 'break-word',\n                        maxWidth: '100%',\n                        paddingLeft: 2,\n                        paddingRight: 2\n                    },\n                    className: \"jsx-11479aec09b9a2bf\" + \" \" + \"lookup-description\",\n                    children: photo.description || /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"em\", {\n                        className: \"jsx-11479aec09b9a2bf\",\n                        children: \"No description\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\marek_o\\\\OneDrive\\\\Desktop\\\\album-web\\\\src\\\\components\\\\PhotoLookup.tsx\",\n                        lineNumber: 268,\n                        columnNumber: 33\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\marek_o\\\\OneDrive\\\\Desktop\\\\album-web\\\\src\\\\components\\\\PhotoLookup.tsx\",\n                    lineNumber: 254,\n                    columnNumber: 9\n                }, undefined),\n                error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"jsx-11479aec09b9a2bf\" + \" \" + \"delete-error\",\n                    children: error\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\marek_o\\\\OneDrive\\\\Desktop\\\\album-web\\\\src\\\\components\\\\PhotoLookup.tsx\",\n                    lineNumber: 270,\n                    columnNumber: 19\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default()), {\n                    id: \"11479aec09b9a2bf\",\n                    children: \".lookup-overlay.jsx-11479aec09b9a2bf{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.72);z-index:2000;-webkit-backdrop-filter:blur(2.5px);backdrop-filter:blur(2.5px)}.close-btn.jsx-11479aec09b9a2bf:hover{color:#222}.delete-btn.jsx-11479aec09b9a2bf:disabled{background:#b71c1c;cursor:not-allowed}.delete-btn.jsx-11479aec09b9a2bf:hover:not(:disabled){background:#b71c1c}.delete-error.jsx-11479aec09b9a2bf{color:#e53935;font-size:1rem;margin-top:1rem;margin-bottom:.5rem;text-align:center}\"\n                }, void 0, false, void 0, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\marek_o\\\\OneDrive\\\\Desktop\\\\album-web\\\\src\\\\components\\\\PhotoLookup.tsx\",\n            lineNumber: 146,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\marek_o\\\\OneDrive\\\\Desktop\\\\album-web\\\\src\\\\components\\\\PhotoLookup.tsx\",\n        lineNumber: 145,\n        columnNumber: 5\n    }, undefined);\n};\n_s(PhotoLookup, \"ZGspbLCnpD9IAxuIq4cT/2hXUr8=\");\n_c = PhotoLookup;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PhotoLookup);\nvar _c;\n$RefreshReg$(_c, \"PhotoLookup\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL1Bob3RvTG9va3VwLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQTBCO0FBQ0s7QUFTL0IsTUFBTUUsY0FBMEM7UUFBQyxFQUFFQyxLQUFLLEVBQUVDLE9BQU8sRUFBRUMsY0FBYyxFQUFFOztJQUNqRixNQUFNLENBQUNDLFNBQVNDLFdBQVcsR0FBR1AscURBQWMsQ0FBQztJQUM3QyxNQUFNLENBQUNTLE9BQU9DLFNBQVMsR0FBR1YscURBQWMsQ0FBZ0I7SUFDeEQsTUFBTSxDQUFDVyxTQUFTQyxXQUFXLEdBQUdaLHFEQUFjLENBQUM7SUFDN0MsbUNBQW1DO0lBQ25DLE1BQU0sQ0FBQ2EsWUFBWUMsY0FBYyxHQUFHZCxxREFBYyxDQUF5QjtRQUFDZSxHQUFHO1FBQUdDLEdBQUc7SUFBQztJQUV0RmhCLHNEQUFlO2lDQUFDO1lBQ2QsU0FBU2tCO2dCQUNQLElBQUksSUFBNkIsRUFBRTtvQkFDakMsTUFBTUMsaUJBQWlCQyxLQUFLQyxHQUFHLENBQUNDLE9BQU9DLFVBQVUsRUFBRTtvQkFDbkQsSUFBSUosa0JBQWtCLE9BQU9HLE9BQU9FLFdBQVcsR0FBR0YsT0FBT0MsVUFBVSxFQUFFO3dCQUNuRVgsV0FBVztvQkFDYixPQUFPO3dCQUNMQSxXQUFXUSxLQUFLSyxHQUFHLENBQUMsR0FBR0wsS0FBS00sSUFBSSxDQUFDUCxpQkFBaUI7b0JBQ3BEO2dCQUNGO1lBQ0Y7WUFDQUQ7WUFDQUksT0FBT0ssZ0JBQWdCLENBQUMsVUFBVVQ7WUFDbEM7eUNBQU8sSUFBTUksT0FBT00sbUJBQW1CLENBQUMsVUFBVVY7O1FBQ3BEO2dDQUFHLEVBQUU7SUFFTGxCLHNEQUFlO2lDQUFDO1lBQ2QsSUFBSSxFQUFDRyxrQkFBQUEsNEJBQUFBLE1BQU8wQixRQUFRLEdBQUU7WUFDdEIsTUFBTUMsTUFBTSxJQUFJUixPQUFPckIsS0FBSztZQUM1QjZCLElBQUlDLE1BQU07eUNBQUcsSUFBTWpCLGNBQWM7d0JB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T0FBT2hEOzRCQUNQaUQsUUFBUWhEOzRCQUNSNkMsVUFBVTlDOzRCQUNWK0MsV0FBVzlDOzRCQUNYMEMsY0FBYzVDLGNBQWM7NEJBQzVCOEMsV0FBVzs0QkFDWEgsWUFBWTs0QkFDWm9DLFdBQVc7NEJBQ1g1QixTQUFTO3dCQUNYO3dCQUNBNkIsT0FBTTt3QkFDTkMsVUFBVTt3QkFDVkMsYUFBYTs7Ozs7Ozs7Ozs7OEJBSWpCLDhEQUFDN0M7b0JBRUNLLE9BQU87d0JBQ0x3QixVQUFVLEdBQVksT0FBVHpELFVBQVM7d0JBQ3RCdUQsT0FBTzt3QkFDUG1CLFdBQVc7d0JBQ1hDLFdBQVcxRTt3QkFDWGtELGNBQWM7d0JBQ2R5QixXQUFXO3dCQUNYdEMsVUFBVTt3QkFDVnVDLGFBQWE7d0JBQ2JDLGNBQWM7b0JBQ2hCOzhEQVhVOzhCQWFUM0gsTUFBTWtILFdBQVcsa0JBQUksOERBQUNVOztrQ0FBRzs7Ozs7Ozs7Ozs7Z0JBRTNCdEgsdUJBQVMsOERBQUNtRTs4REFBYzs4QkFBZ0JuRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBOEJqRDtHQWpTTVA7S0FBQUE7QUFtU04saUVBQWVBLFdBQVdBLEVBQUMiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFyZWtfb1xcT25lRHJpdmVcXERlc2t0b3BcXGFsYnVtLXdlYlxcc3JjXFxjb21wb25lbnRzXFxQaG90b0xvb2t1cC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBJbWFnZSBmcm9tICduZXh0L2ltYWdlJztcblxuXG5pbnRlcmZhY2UgUGhvdG9Mb29rdXBQcm9wcyB7XG4gIHBob3RvOiBQaG90bztcbiAgb25DbG9zZTogKCkgPT4gdm9pZDtcbiAgb25QaG90b0RlbGV0ZWQ/OiAoKSA9PiB2b2lkO1xufVxuXG5jb25zdCBQaG90b0xvb2t1cDogUmVhY3QuRkM8UGhvdG9Mb29rdXBQcm9wcz4gPSAoeyBwaG90bywgb25DbG9zZSwgb25QaG90b0RlbGV0ZWQgfSkgPT4ge1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gUmVhY3QudXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtjb2x1bW5zLCBzZXRDb2x1bW5zXSA9IFJlYWN0LnVzZVN0YXRlKDIpO1xuICAvLyBIZWxwZXIgdG8gZ2V0IGltYWdlIGFzcGVjdCByYXRpb1xuICBjb25zdCBbaW1nTmF0dXJhbCwgc2V0SW1nTmF0dXJhbF0gPSBSZWFjdC51c2VTdGF0ZTx7dzogbnVtYmVyLCBoOiBudW1iZXJ9Pih7dzogNCwgaDogM30pO1xuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZnVuY3Rpb24gdXBkYXRlQ29sdW1ucygpIHtcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zdCBlZmZlY3RpdmVXaWR0aCA9IE1hdGgubWluKHdpbmRvdy5pbm5lcldpZHRoLCAxNTAwKTtcbiAgICAgICAgaWYgKGVmZmVjdGl2ZVdpZHRoIDw9IDYwMCAmJiB3aW5kb3cuaW5uZXJIZWlnaHQgPiB3aW5kb3cuaW5uZXJXaWR0aCkge1xuICAgICAgICAgIHNldENvbHVtbnMoMik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0Q29sdW1ucyhNYXRoLm1heCgyLCBNYXRoLmNlaWwoZWZmZWN0aXZlV2lkdGggLyA0NTApKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlQ29sdW1ucygpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB1cGRhdGVDb2x1bW5zKTtcbiAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHVwZGF0ZUNvbHVtbnMpO1xuICB9LCBbXSk7XG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXBob3RvPy5ibG9iX3VybCkgcmV0dXJuO1xuICAgIGNvbnN0IGltZyA9IG5ldyB3aW5kb3cuSW1hZ2UoKTtcbiAgICBpbWcub25sb2FkID0gKCkgPT4gc2V0SW1nTmF0dXJhbCh7dzogaW1nLm5hdHVyYWxXaWR0aCwgaDogaW1nLm5hdHVyYWxIZWlnaHR9KTtcbiAgICBpbWcuc3JjID0gcGhvdG8uYmxvYl91cmw7XG4gIH0sIFtwaG90bz8uYmxvYl91cmxdKTtcblxuICAvLyBSZXNwb25zaXZlIG1vZGFsIGFuZCBlbGVtZW50IHNpemluZ1xuICBsZXQgbW9kYWxNYXhXaWR0aCA9IDA7XG4gIGxldCBtb2RhbE1heEhlaWdodCA9IDA7XG4gIGxldCBtb2RhbFBhZGRpbmdYID0gNjtcbiAgbGV0IG1vZGFsUGFkZGluZ1kgPSA4O1xuICBsZXQgbW9kYWxSYWRpdXMgPSA1O1xuICBsZXQgaW1hZ2VNYXhXaWR0aCA9IDA7XG4gIGxldCBpbWFnZU1heEhlaWdodCA9IDA7XG4gIGxldCB0b3BCYXJIZWlnaHQgPSAyODtcbiAgbGV0IGNsb3NlQnRuRm9udCA9IDIwO1xuICBsZXQgZGVsZXRlQnRuRm9udCA9IDAuODI7XG4gIGxldCBkZWxldGVCdG5QYWRZID0gMjtcbiAgbGV0IGRlbGV0ZUJ0blBhZFggPSA4O1xuICBsZXQgZGVsZXRlQnRuUmFkaXVzID0gNjtcbiAgbGV0IGRlc2NGb250ID0gMC45MjtcbiAgbGV0IGRlc2NNYXJnaW5Ub3AgPSAxMDtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gTWFyZ2luIGZyb20gdmlld3BvcnQgZWRnZVxuICAgIGNvbnN0IG1hcmdpblcgPSBNYXRoLm1heCh3aW5kb3cuaW5uZXJXaWR0aCAqIDAuMDEsIDgpOyAvLyAxJSBtYXJnaW4gZm9yIHdpZHRoXG4gICAgY29uc3QgbWFyZ2luSCA9IE1hdGgubWF4KHdpbmRvdy5pbm5lckhlaWdodCAqIDAuMDQ1LCAyOC44KTsgLy8gMTAlIG1hcmdpbiBmb3IgaGVpZ2h0XG4gICAgY29uc3QgbWF4Qm94VyA9IHdpbmRvdy5pbm5lcldpZHRoIC0gMiAqIG1hcmdpblc7XG4gICAgY29uc3QgbWF4Qm94SCA9IHdpbmRvdy5pbm5lckhlaWdodCAtIDIgKiBtYXJnaW5IO1xuICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8PSA2MDAgJiYgd2luZG93LmlubmVySGVpZ2h0ID4gd2luZG93LmlubmVyV2lkdGgpIHtcbiAgICAgIG1vZGFsUGFkZGluZ1ggPSA4O1xuICAgICAgbW9kYWxQYWRkaW5nWSA9IDE0O1xuICAgICAgbW9kYWxSYWRpdXMgPSA1O1xuICAgICAgdG9wQmFySGVpZ2h0ID0gMjQ7XG4gICAgICBjbG9zZUJ0bkZvbnQgPSAyMjtcbiAgICAgIGRlbGV0ZUJ0bkZvbnQgPSAwLjc0O1xuICAgICAgZGVsZXRlQnRuUGFkWSA9IDE7XG4gICAgICBkZWxldGVCdG5QYWRYID0gNztcbiAgICAgIGRlbGV0ZUJ0blJhZGl1cyA9IDQ7XG4gICAgICBkZXNjRm9udCA9IDAuODI7XG4gICAgICBkZXNjTWFyZ2luVG9wID0gNztcbiAgICB9IGVsc2Uge1xuICAgICAgbW9kYWxQYWRkaW5nWCA9IDE2ICsgY29sdW1ucyAqIDIuMjtcbiAgICAgIG1vZGFsUGFkZGluZ1kgPSAxOCArIGNvbHVtbnMgKiAyLjI7XG4gICAgICBtb2RhbFJhZGl1cyA9IDUgKyBjb2x1bW5zICogMC41O1xuICAgICAgdG9wQmFySGVpZ2h0ID0gMTggKyBjb2x1bW5zICogMS4yO1xuICAgICAgY2xvc2VCdG5Gb250ID0gMTggKyBjb2x1bW5zICogMi4yO1xuICAgICAgZGVsZXRlQnRuRm9udCA9IDAuNjggKyBjb2x1bW5zICogMC4wNjtcbiAgICAgIGRlbGV0ZUJ0blBhZFkgPSAxICsgY29sdW1ucyAqIDAuNTtcbiAgICAgIGRlbGV0ZUJ0blBhZFggPSA2ICsgY29sdW1ucyAqIDAuNztcbiAgICAgIGRlbGV0ZUJ0blJhZGl1cyA9IDQgKyBjb2x1bW5zICogMC41O1xuICAgICAgZGVzY0ZvbnQgPSAwLjc4ICsgY29sdW1ucyAqIDAuMDY7XG4gICAgICBkZXNjTWFyZ2luVG9wID0gNyArIGNvbHVtbnMgKiAwLjc7XG4gICAgfVxuICAgIC8vIENhbGN1bGF0ZSBhdmFpbGFibGUgc3BhY2UgZm9yIGltYWdlIChzdWJ0cmFjdCBtb2RhbCBwYWRkaW5ncywgdG9wIGJhciwgZGVzYylcbiAgICBjb25zdCByZXNlcnZlZEhlaWdodCA9IHRvcEJhckhlaWdodCArIGRlc2NNYXJnaW5Ub3AgKyBtb2RhbFBhZGRpbmdZICogMiArIDQwOyAvLyA0MCBmb3IgZGVzY3JpcHRpb24gaGVpZ2h0IGVzdGltYXRlXG4gICAgY29uc3QgcmVzZXJ2ZWRXaWR0aCA9IG1vZGFsUGFkZGluZ1ggKiAyO1xuICAgIGNvbnN0IGJveFcgPSBtYXhCb3hXIC0gcmVzZXJ2ZWRXaWR0aDtcbiAgICBjb25zdCBib3hIID0gbWF4Qm94SCAtIHJlc2VydmVkSGVpZ2h0O1xuICAgIC8vIEZpdCBpbWFnZSB0byBib3gsIG1haW50YWluaW5nIGFzcGVjdCByYXRpb1xuICAgIGNvbnN0IGFzcGVjdCA9IGltZ05hdHVyYWwudyAvIGltZ05hdHVyYWwuaDtcbiAgICBsZXQgZml0VyA9IGJveFc7XG4gICAgbGV0IGZpdEggPSBib3hXIC8gYXNwZWN0O1xuICAgIGlmIChmaXRIID4gYm94SCkge1xuICAgICAgZml0SCA9IGJveEg7XG4gICAgICBmaXRXID0gYm94SCAqIGFzcGVjdDtcbiAgICB9XG4gICAgLy8gUHJldmVudCB1cHNjYWxpbmcgYmV5b25kIG9yaWdpbmFsIGltYWdlIHJlc29sdXRpb25cbiAgICBpZiAoZml0VyA+IGltZ05hdHVyYWwudykge1xuICAgICAgZml0VyA9IGltZ05hdHVyYWwudztcbiAgICAgIGZpdEggPSBmaXRXIC8gYXNwZWN0O1xuICAgIH1cbiAgICBpZiAoZml0SCA+IGltZ05hdHVyYWwuaCkge1xuICAgICAgZml0SCA9IGltZ05hdHVyYWwuaDtcbiAgICAgIGZpdFcgPSBmaXRIICogYXNwZWN0O1xuICAgIH1cbiAgICBpbWFnZU1heFdpZHRoID0gZml0VztcbiAgICBpbWFnZU1heEhlaWdodCA9IGZpdEg7XG4gICAgLy8gTW9kYWwgc2l6ZSB3aWxsIGh1ZyB0aGUgaW1hZ2VcbiAgICBtb2RhbE1heFdpZHRoID0gZml0VyArIHJlc2VydmVkV2lkdGg7XG4gICAgbW9kYWxNYXhIZWlnaHQgPSBmaXRIICsgcmVzZXJ2ZWRIZWlnaHQ7XG4gIH1cblxuICBjb25zdCBoYW5kbGVEZWxldGUgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFwaG90by5pZCkgcmV0dXJuO1xuICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgc2V0RXJyb3IobnVsbCk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKCcvYXBpL2RlbGV0ZV9waG90bycsIHtcbiAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgaWQ6IHBob3RvLmlkIH0pLFxuICAgICAgfSk7XG4gICAgICBpZiAoIXJlcy5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEuZXJyb3IgfHwgJ0ZhaWxlZCB0byBkZWxldGUgcGhvdG8nKTtcbiAgICAgIH1cbiAgICAgIG9uQ2xvc2UoKTtcbiAgICAgIG9uUGhvdG9EZWxldGVkPy4oKTtcbiAgICB9IGNhdGNoIChlcnI6IHVua25vd24pIHtcbiAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICBzZXRFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRFcnJvcignRmFpbGVkIHRvIGRlbGV0ZSBwaG90bycpO1xuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImxvb2t1cC1vdmVybGF5XCIgb25DbGljaz17b25DbG9zZX0+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT1cImxvb2t1cC1tb2RhbFwiXG4gICAgICAgIG9uQ2xpY2s9e2UgPT4gZS5zdG9wUHJvcGFnYXRpb24oKX1cbiAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICBiYWNrZ3JvdW5kOiAnIzIzMjMyYicsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiBtb2RhbFJhZGl1cyxcbiAgICAgICAgICBwYWRkaW5nOiBgJHttb2RhbFBhZGRpbmdZfXB4ICR7bW9kYWxQYWRkaW5nWH1weGAsXG4gICAgICAgICAgYm94U2hhZG93OiAnMCA4cHggNDBweCAwIHJnYmEoMCwwLDAsMC41NSksIDAgMS41cHggOHB4IDAgcmdiYSgwLDAsMCwwLjIyKScsXG4gICAgICAgICAgbWF4V2lkdGg6IG1vZGFsTWF4V2lkdGgsXG4gICAgICAgICAgbWF4SGVpZ2h0OiBtb2RhbE1heEhlaWdodCxcbiAgICAgICAgICB3aWR0aDogJ2F1dG8nLFxuICAgICAgICAgIGhlaWdodDogJ2F1dG8nLFxuICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgICAgICBhbGlnbkl0ZW1zOiAnc3RyZXRjaCcsXG4gICAgICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICAgICAgdG9wOiAnNTAlJyxcbiAgICAgICAgICBsZWZ0OiAnNTAlJyxcbiAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLTUwJSwgLTUwJSknLFxuICAgICAgICAgIHpJbmRleDogMjEwMCxcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgey8qIFRvcCBiYXIgd2l0aCBkZWxldGUgYW5kIGNsb3NlICovfVxuICAgICAgICA8ZGl2IHN0eWxlPXt7XG4gICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJyxcbiAgICAgICAgICBoZWlnaHQ6IHRvcEJhckhlaWdodCxcbiAgICAgICAgICBtYXJnaW5Cb3R0b206IDgsXG4gICAgICAgIH19PlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImRlbGV0ZS1idG5cIlxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlRGVsZXRlfVxuICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmd9XG4gICAgICAgICAgICBhcmlhLWxhYmVsPVwiRGVsZXRlIFBob3RvXCJcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgIGJhY2tncm91bmQ6ICcjZDcyNjNkJyxcbiAgICAgICAgICAgICAgY29sb3I6ICcjZmZmJyxcbiAgICAgICAgICAgICAgYm9yZGVyOiAnbm9uZScsXG4gICAgICAgICAgICAgIGJvcmRlclJhZGl1czogZGVsZXRlQnRuUmFkaXVzLFxuICAgICAgICAgICAgICBwYWRkaW5nOiBgJHtkZWxldGVCdG5QYWRZfXB4ICR7ZGVsZXRlQnRuUGFkWH1weGAsXG4gICAgICAgICAgICAgIGZvbnRTaXplOiBgJHtkZWxldGVCdG5Gb250fXJlbWAsXG4gICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgICAgICAgICBib3hTaGFkb3c6ICcwIDJweCA4cHggcmdiYSgyMTUsMzgsNjEsMC4xMCknLFxuICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAnYmFja2dyb3VuZCAwLjJzJyxcbiAgICAgICAgICAgICAgekluZGV4OiAyLFxuICAgICAgICAgICAgICBtaW5XaWR0aDogMCxcbiAgICAgICAgICAgICAgbWluSGVpZ2h0OiAwLFxuICAgICAgICAgICAgICBmb250V2VpZ2h0OiA2MDAsXG4gICAgICAgICAgICAgIGxldHRlclNwYWNpbmc6ICcwLjAxZW0nLFxuICAgICAgICAgICAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcbiAgICAgICAgICAgICAgb3BhY2l0eTogbG9hZGluZyA/IDAuNyA6IDEsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtsb2FkaW5nID8gJy4uLicgOiAnRGVsZXRlJ31cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJjbG9zZS1idG5cIlxuICAgICAgICAgICAgb25DbGljaz17b25DbG9zZX1cbiAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJDbG9zZVwiXG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAnbm9uZScsXG4gICAgICAgICAgICAgIGJvcmRlcjogJ25vbmUnLFxuICAgICAgICAgICAgICBmb250U2l6ZTogY2xvc2VCdG5Gb250LFxuICAgICAgICAgICAgICBjb2xvcjogJyM4ODgnLFxuICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgICAgICAgICAgekluZGV4OiAxLFxuICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAnY29sb3IgMC4ycycsXG4gICAgICAgICAgICAgIGxpbmVIZWlnaHQ6IDEsXG4gICAgICAgICAgICAgIG1hcmdpbkxlZnQ6IDgsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgICZ0aW1lcztcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHsvKiBNYWluIGltYWdlICovfVxuICAgICAgICA8ZGl2IHN0eWxlPXt7XG4gICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgICAgIG1pbkhlaWdodDogMCxcbiAgICAgICAgICBtaW5XaWR0aDogMCxcbiAgICAgICAgfX0+XG4gICAgICAgICAgPEltYWdlXG4gICAgICAgICAgICBzcmM9e3Bob3RvLmJsb2JfdXJsfVxuICAgICAgICAgICAgYWx0PXtwaG90by5kZXNjcmlwdGlvbiB8fCAnQWxidW0gcGhvdG8nfVxuICAgICAgICAgICAgd2lkdGg9e2ltYWdlTWF4V2lkdGh9XG4gICAgICAgICAgICBoZWlnaHQ9e2ltYWdlTWF4SGVpZ2h0fVxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgd2lkdGg6IGltYWdlTWF4V2lkdGgsXG4gICAgICAgICAgICAgIGhlaWdodDogaW1hZ2VNYXhIZWlnaHQsXG4gICAgICAgICAgICAgIG1heFdpZHRoOiBpbWFnZU1heFdpZHRoLFxuICAgICAgICAgICAgICBtYXhIZWlnaHQ6IGltYWdlTWF4SGVpZ2h0LFxuICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IG1vZGFsUmFkaXVzIC0gMSxcbiAgICAgICAgICAgICAgYm94U2hhZG93OiAnMCAycHggOHB4IHJnYmEoMCwwLDAsMC4yMiknLFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAnIzE4MTgxOCcsXG4gICAgICAgICAgICAgIG9iamVjdEZpdDogJ2NvbnRhaW4nLFxuICAgICAgICAgICAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHNpemVzPVwiKG1heC13aWR0aDogOTAwcHgpIDkwdncsIDcwMHB4XCJcbiAgICAgICAgICAgIHByaW9yaXR5PXt0cnVlfVxuICAgICAgICAgICAgdW5vcHRpbWl6ZWQ9e3RydWV9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHsvKiBEZXNjcmlwdGlvbiBhdCB0aGUgYm90dG9tICovfVxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPVwibG9va3VwLWRlc2NyaXB0aW9uXCJcbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgZm9udFNpemU6IGAke2Rlc2NGb250fXJlbWAsXG4gICAgICAgICAgICBjb2xvcjogJyNmNGY0ZjQnLFxuICAgICAgICAgICAgdGV4dEFsaWduOiAnbGVmdCcsXG4gICAgICAgICAgICBtYXJnaW5Ub3A6IGRlc2NNYXJnaW5Ub3AsXG4gICAgICAgICAgICBtYXJnaW5Cb3R0b206IDAsXG4gICAgICAgICAgICB3b3JkQnJlYWs6ICdicmVhay13b3JkJyxcbiAgICAgICAgICAgIG1heFdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgICBwYWRkaW5nTGVmdDogMixcbiAgICAgICAgICAgIHBhZGRpbmdSaWdodDogMixcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAge3Bob3RvLmRlc2NyaXB0aW9uIHx8IDxlbT5ObyBkZXNjcmlwdGlvbjwvZW0+fVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge2Vycm9yICYmIDxkaXYgY2xhc3NOYW1lPVwiZGVsZXRlLWVycm9yXCI+e2Vycm9yfTwvZGl2Pn1cbiAgICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAgIC5sb29rdXAtb3ZlcmxheSB7XG4gICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgICAgICB0b3A6IDA7IGxlZnQ6IDA7IHJpZ2h0OiAwOyBib3R0b206IDA7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsMCwwLDAuNzIpO1xuICAgICAgICAgICAgei1pbmRleDogMjAwMDtcbiAgICAgICAgICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigyLjVweCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC5jbG9zZS1idG46aG92ZXIge1xuICAgICAgICAgICAgY29sb3I6ICMyMjI7XG4gICAgICAgICAgfVxuICAgICAgICAgIC5kZWxldGUtYnRuOmRpc2FibGVkIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNiNzFjMWM7XG4gICAgICAgICAgICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xuICAgICAgICAgIH1cbiAgICAgICAgICAuZGVsZXRlLWJ0bjpob3Zlcjpub3QoOmRpc2FibGVkKSB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAjYjcxYzFjO1xuICAgICAgICAgIH1cbiAgICAgICAgICAuZGVsZXRlLWVycm9yIHtcbiAgICAgICAgICAgIGNvbG9yOiAjZTUzOTM1O1xuICAgICAgICAgICAgZm9udC1zaXplOiAxcmVtO1xuICAgICAgICAgICAgbWFyZ2luLXRvcDogMXJlbTtcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDAuNXJlbTtcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICB9XG4gICAgICAgIGB9PC9zdHlsZT5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgUGhvdG9Mb29rdXA7XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJJbWFnZSIsIlBob3RvTG9va3VwIiwicGhvdG8iLCJvbkNsb3NlIiwib25QaG90b0RlbGV0ZWQiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsInVzZVN0YXRlIiwiZXJyb3IiLCJzZXRFcnJvciIsImNvbHVtbnMiLCJzZXRDb2x1bW5zIiwiaW1nTmF0dXJhbCIsInNldEltZ05hdHVyYWwiLCJ3IiwiaCIsInVzZUVmZmVjdCIsInVwZGF0ZUNvbHVtbnMiLCJlZmZlY3RpdmVXaWR0aCIsIk1hdGgiLCJtaW4iLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJtYXgiLCJjZWlsIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJibG9iX3VybCIsImltZyIsIm9ubG9hZCIsIm5hdHVyYWxXaWR0aCIsIm5hdHVyYWxIZWlnaHQiLCJzcmMiLCJtb2RhbE1heFdpZHRoIiwibW9kYWxNYXhIZWlnaHQiLCJtb2RhbFBhZGRpbmdYIiwibW9kYWxQYWRkaW5nWSIsIm1vZGFsUmFkaXVzIiwiaW1hZ2VNYXhXaWR0aCIsImltYWdlTWF4SGVpZ2h0IiwidG9wQmFySGVpZ2h0IiwiY2xvc2VCdG5Gb250IiwiZGVsZXRlQnRuRm9udCIsImRlbGV0ZUJ0blBhZFkiLCJkZWxldGVCdG5QYWRYIiwiZGVsZXRlQnRuUmFkaXVzIiwiZGVzY0ZvbnQiLCJkZXNjTWFyZ2luVG9wIiwibWFyZ2luVyIsIm1hcmdpbkgiLCJtYXhCb3hXIiwibWF4Qm94SCIsInJlc2VydmVkSGVpZ2h0IiwicmVzZXJ2ZWRXaWR0aCIsImJveFciLCJib3hIIiwiYXNwZWN0IiwiZml0VyIsImZpdEgiLCJoYW5kbGVEZWxldGUiLCJpZCIsInJlcyIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5Iiwib2siLCJkYXRhIiwianNvbiIsIkVycm9yIiwiZXJyIiwibWVzc2FnZSIsImRpdiIsImNsYXNzTmFtZSIsIm9uQ2xpY2siLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwic3R5bGUiLCJiYWNrZ3JvdW5kIiwiYm9yZGVyUmFkaXVzIiwicGFkZGluZyIsImJveFNoYWRvdyIsIm1heFdpZHRoIiwibWF4SGVpZ2h0Iiwid2lkdGgiLCJoZWlnaHQiLCJkaXNwbGF5IiwiZmxleERpcmVjdGlvbiIsImFsaWduSXRlbXMiLCJwb3NpdGlvbiIsInRvcCIsImxlZnQiLCJ0cmFuc2Zvcm0iLCJ6SW5kZXgiLCJqdXN0aWZ5Q29udGVudCIsIm1hcmdpbkJvdHRvbSIsImJ1dHRvbiIsImRpc2FibGVkIiwiYXJpYS1sYWJlbCIsImNvbG9yIiwiYm9yZGVyIiwiZm9udFNpemUiLCJjdXJzb3IiLCJ0cmFuc2l0aW9uIiwibWluV2lkdGgiLCJtaW5IZWlnaHQiLCJmb250V2VpZ2h0IiwibGV0dGVyU3BhY2luZyIsIm9wYWNpdHkiLCJsaW5lSGVpZ2h0IiwibWFyZ2luTGVmdCIsImZsZXgiLCJhbHQiLCJkZXNjcmlwdGlvbiIsIm9iamVjdEZpdCIsInNpemVzIiwicHJpb3JpdHkiLCJ1bm9wdGltaXplZCIsInRleHRBbGlnbiIsIm1hcmdpblRvcCIsIndvcmRCcmVhayIsInBhZGRpbmdMZWZ0IiwicGFkZGluZ1JpZ2h0IiwiZW0iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/PhotoLookup.tsx\n"));

/***/ })

}]);