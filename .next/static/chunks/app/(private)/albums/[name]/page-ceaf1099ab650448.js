(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[72],{4796:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>h});var n=a(5155),o=a(2115),i=a(5028),r=a(9137),l=a.n(r),s=a(6766);let c=t=>{let{photos:e,onPhotoClick:a}=t;return(0,n.jsxs)("div",{className:"jsx-678f8af11baf70a8 masonry-grid",children:[e.map(t=>(0,n.jsx)("div",{onClick:()=>null==a?void 0:a(t),style:{cursor:a?"pointer":"default"},className:"jsx-678f8af11baf70a8 masonry-item",children:(0,n.jsx)(s.default,{src:t.blob_url,alt:t.description||"Album photo",width:400,height:300,style:{width:"100%",height:"auto",borderRadius:"12px",marginBottom:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",background:"#f3f3f3",objectFit:"cover"},sizes:"(max-width: 600px) 100vw, (max-width: 900px) 50vw, (max-width: 1200px) 33vw, 25vw",priority:!1})},t.id)),(0,n.jsx)(l(),{id:"678f8af11baf70a8",children:".masonry-grid.jsx-678f8af11baf70a8{-webkit-column-count:1;-moz-column-count:1;column-count:1;-webkit-column-gap:16px;-moz-column-gap:16px;column-gap:16px;margin-left:16px;margin-right:16px}@media(min-width:600px){.masonry-grid.jsx-678f8af11baf70a8{-webkit-column-count:2;-moz-column-count:2;column-count:2;margin-left:32px;margin-right:32px}}@media(min-width:900px){.masonry-grid.jsx-678f8af11baf70a8{-webkit-column-count:3;-moz-column-count:3;column-count:3}}@media(min-width:1200px){.masonry-grid.jsx-678f8af11baf70a8{-webkit-column-count:4;-moz-column-count:4;column-count:4}}.masonry-item.jsx-678f8af11baf70a8{-webkit-column-break-inside:avoid;page-break-inside:avoid;break-inside:avoid;margin-bottom:16px}"})]})},d=(0,i.default)(()=>a.e(150).then(a.bind(a,1150)),{loadableGenerated:{webpack:()=>[1150]},ssr:!1}),u=(0,i.default)(()=>a.e(795).then(a.bind(a,8795)),{loadableGenerated:{webpack:()=>[8795]},ssr:!1});async function m(){let t=await fetch("/api/albums_page",{cache:"no-store"});if(!t.ok)throw Error("Failed to fetch album data");return t.json()}async function f(t){let e=await fetch("/api/fetch_photos?album_id=".concat(t),{cache:"no-store"});if(!e.ok)throw Error("Failed to fetch photos");return e.json()}function h(){return(0,n.jsx)(x,{})}function x(){let[t,e]=(0,o.useState)([]),[a,i]=(0,o.useState)(""),[r,l]=(0,o.useState)(""),[s,h]=(0,o.useState)(null),[x,p]=(0,o.useState)(!1),[b,g]=(0,o.useState)(!0);o.useEffect(()=>{!async function(){g(!0);try{let{album_id:t,album_name:a}=await m();l(t),i(a);let{photos:n}=await f(t);e(n)}catch(t){}finally{g(!1)}}()},[]);let w=async()=>{if(r){g(!0);try{let{photos:t}=await f(r);e(t)}finally{g(!1)}}};return(0,n.jsxs)("main",{children:[(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",margin:"2.5rem 0 2rem 0"},children:[(0,n.jsx)("h1",{style:{textAlign:"center",margin:0,fontSize:"2.8rem",fontWeight:800,letterSpacing:"-1px",lineHeight:1.1,color:"#181818",textShadow:"0 2px 12px rgba(0,0,0,0.07)"},children:a}),(0,n.jsx)("button",{className:"add-photo-btn","aria-label":"Add Photo",style:{width:48,height:48,borderRadius:12,background:"#222",color:"#fff",fontSize:32,border:"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.10)",marginTop:24,marginBottom:8,transition:"background 0.2s"},onClick:()=>p(!0),children:"+"})]}),b?(0,n.jsx)("div",{style:{textAlign:"center",marginTop:"2rem"},children:"Loading..."}):(0,n.jsx)(c,{photos:t,onPhotoClick:h}),s&&(0,n.jsx)(d,{photo:s,onClose:()=>h(null),onPhotoDeleted:w}),x&&(0,n.jsx)(u,{album_id:r,onClose:()=>p(!1),onPhotoAdded:w})]})}},9464:(t,e,a)=>{Promise.resolve().then(a.bind(a,4796))}},t=>{var e=e=>t(t.s=e);t.O(0,[530,441,684,977],()=>e(9464)),_N_E=t.O()}]);